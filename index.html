<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous"
        />

        <title>made by KangYunPark</title>
        <link rel="stylesheet" href="style.css" />
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script
            type="text/javascript"
            src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-602d356199bd4df2"
        ></script>
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-light nav-distatnce">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">A.I가 추천하는 여행지</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a
                                class="nav-link dropdown-toggle"
                                href="#"
                                id="navbarDropdown"
                                role="button"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                            >
                                Dropdown
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><hr class="dropdown-divider" /></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true"
                                >Disabled</a
                            >
                        </li>
                    </ul>
                    <form class="d-flex">
                        <input
                            class="form-control me-2"
                            type="search"
                            placeholder="Search"
                            aria-label="Search"
                        />
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
        <section class="section">
            <h1 class="title">인공지능이 추천하는 여행지</h1>
            <h2 class="subtitle">나와 어울리는 여행지는 어디일까?</h2>
            <h3 class="mt-3 thirdtitle">
                made by KangYunPark
            </h3>
        </section>
        <section class="youtube">
            <div class="container mt-5 youtube-cover d-flex flex-row-reverse">
                <img src="img/yu.jpg" alt="" class="youtube-icon" />
                <a href="https://pgy9901.wixsite.com/evaluation" class="youtube-link"
                    >영남대학교 교육학과 측정통계 연구실
                </a>
            </div>
        </section>

        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <div class='container mb-2file-upload'>
            <!-- Go to www.addthis.com/dashboard to customize your tools -->

            <!-- Go to www.addthis.com/dashboard to customize your tools -->
            <div class="addthis_inline_share_toolbox"></div>

            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                    <img src="img/upload.svg" class="mt-5 pt-4 upload" style="width: 20%;" />
                    <h3 class="mb-5 pb-5 pt-4 upload-text">
                        얼굴 사진을 올려놓거나 눌러서 업로드하시면 5초 후에 결과가 나옵니다!
                    </h3>
                </div>
            </div>
            <div class="file-upload-content">
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                <p class="result-message"></p>
                <div id="label-container"></div>
                <div class="image-title-wrap">
                    <button type="button" onclick="removeUpload()" class="mt-3 remove-image">
                        Remove <span class="image-title">Uploaded Image</span>
                    </button>
                </div>
            </div>
        </div>
        <div id="webcam-container"></div>
        <div id="label-container"></div>
        <div id="disqus_thread"></div>
        <script>
            /**
             *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
             *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
            (function () {
                // DON'T EDIT BELOW THIS LINE
                var d = document,
                    s = d.createElement('script');
                s.src = 'https://kangyunpark.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript
            >Please enable JavaScript to view the
            <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript
        >

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script>
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        $('.image-upload-wrap').hide();
                        $('.file-upload-image').attr('src', e.target.result);
                        $('.file-upload-content').show();
                        $('.image-title').html(input.files[0].name);
                    };
                    reader.readAsDataURL(input.files[0]);
                    init().then(() => {
                        console.log('by KangYunPark');
                        predict();
                    });
                } else {
                    removeUpload();
                }
            }

            function removeUpload() {
                $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                $('.file-upload-content').hide();
                $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
                $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
                $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>
        <script type="text/javascript">
            // More API functions here:
            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

            // the link to your model provided by Teachable Machine export panel
            const URL = 'https://teachablemachine.withgoogle.com/models/RKt34mmnw/';

            let model, webcam, labelContainer, maxPredictions;

            // Load the image model and setup the webcam
            async function init() {
                const modelURL = URL + 'model.json';
                const metadataURL = URL + 'metadata.json';

                // load the model and metadata
                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                // or files from your local hard drive
                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();
                labelContainer = document.getElementById('label-container');
                for (let i = 0; i < maxPredictions; i++) {
                    // and class labels
                    labelContainer.appendChild(document.createElement('div'));
                }
            }

            // run the webcam image through the image model
            async function predict() {
                // predict can take in an image, video or canvas html element
                var image = document.getElementById('face-image');
                const prediction = await model.predict(image, false);
                prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                console.log(prediction[0].className);
                var resultTitle, resultMessge;
                switch (prediction[0].className) {
                    case '오차드 로드':
                        resultTitle = '쇼핑의 거리 싱가포르';
                        resultMessge =
                            '어느 한구석도 모자람이 없는 꽉 찬 여행지 심가폴! 오차드 퍼레이드 호텔부터 플라자 싱가푸라까지 약 3KM에 달하는 도로 양쪽에 해외 명품 브랜드부터 중저가 브랜드까지! 오차드 로드 꼭 가보세요! ';
                        break;
                    case '헝가리':
                        resultTitle = '철학과 사색의 도시 헝가리';
                        resultMessge =
                            '방랑하는 철학자인 당신! 헝가리 부다페스트의 부다 왕궁을 추천합니다! 17세기에 바로크 양식으로 새롭게 태어난 왕궁에서 즐기는 사색과 함께 즐거운 여행을 추천합니다!';
                        break;

                    case '오페라 하우스':
                        resultTitle = '오페라 보러 호주로!';
                        resultMessge =
                            '조가비 모양의 지붕이 바다와 묘한 조화를 이루는 시드니 오페라하우스를 추천합니다! 공연 및 예술의 중심지로서 여러 극장과 연주회장, 녹음실 등 볼거리가 아주 많습니다! 시드니를 상징하는 곳으로 세계적으로 유명한 장소!';
                        break;

                    case '카마리 비치':
                        resultTitle = '힐링의 국가 그리스';
                        resultMessge =
                            '감수성이 풍부한 당신은 힐링하는 곳을 좋아하네요! 해안의 검은 모래와 맑은 바다가 대조되어 더욱 맑고 깊어보이는 곳! 카마리 비치를 추천합니다!';
                        break;

                    case '글립토테크 미술관':
                        resultMessge = '예술의 도시 덴마크';
                        resultMessge =
                            '독특한 것을 좋아하는 당신! 칼스버그 맥주회사의 카를 야콥센이 세운 미술관인 클립토테크 미술관을 추천! 다양한 미술작품과 프랑스 인상파 화가의 작품까지 구경할 수 있다는 점은 또 다른 매력!';
                        break;

                    case '메르데카 광장':
                        resultTitle = '열정의 도시 말레이시아';
                        resultMessge =
                            '열정과 모험심이 넘치는 당신에게 메르데카 광장을 추천합니다! 광장 근처에는 흰 벽과 붉은 지붕이 눈에 띄는 기념관도 꼭 방문하세요!';
                        break;

                    case '네덜란드 홀랜드 카지노':
                        resultTitle = '튤립과 풍차의 나라 네덜란드';
                        resultMessge =
                            '호기심이 가득한 당신... 다소 파격적이고 색다른 네덜란드 홀랜드 카지노를 추천합니다! 다운타운 렘브란트 광장 주변에 위치하며 국영으로 운영되는 카지노! 파격적인 슬롯머신이 500대나?!! 하지만 중독은 안됩니다!! 참고로 18세 이상에 정장차림의 여권소지자만 입장가능!';
                        break;

                    case '마드리드 거리':
                        resultTitle = '정열의 도시 스페인';
                        resultMessge =
                            '명쾌한 사고와 민첩성을 가진 당신에게 스페인의 마드리드 거리를 추천합니다! 라푸에르타델솔이라 부르는 타원형 광장이며 서쪽으로는 왕궁 및 부속 왕립 무기고, 남서쪽에는 마요르 광장이 위치해 있습니다!';
                        break;
                    case '뉴욕':
                        resultTitle = 'Do you know U.S.A';
                        resultMessge =
                            '매사에 꼼꼼한 당신에게 종합선물같은 뉴욕을 추천합니다! 타임스퀘어, 삭스 백화점, 엠파이어 스테이트 빌딩, 센트럴 파크 등 볼거리 천국!';
                        break;

                    case '블루라곤 온천':
                        resultTitle = '힐링의 아이슬란드';
                        resultMessge =
                            '차분한 성격의 소유자인 당신에게 아이슬란드의 대표 관광지인 블루라곤 온천을 소개합니다! 따뜻한 온천과 주변 풍경과 함께 힐링 명소! 주변의 레스토랑과 게스트 하우스도 즐겨보세요';
                        break;
                    case '감라스탄':
                        resultTitle = '북유럽의 아름다운 국가 스웨덴';
                        resultMessge =
                            '균형잡힌 생활을 원하는 당신! 스웨덴의 감라스탄을 추천합니다. 감라스탄 북쪽에 위치한 대성당과 왕궁은 꼭 보세요! 13세기에 세워진 대성당은 아주 역사적인 장소입니다. 고딕과 바로크 양식이 융합된 웅장한 건축물로 천장 벽화가 가장 큰 볼거리!';
                        break;
                    case '오스트리아':
                        resultTitle = '음악의 고향 오스트리아';
                        resultMessge =
                            '번뜩이는 예리한 감각을 발산하는 당신에게 오스트리아의 비엔나를 추천! 음악의 도시로 하이든, 모차르트, 베토벤, 슈베르트, 브람스 등 다양한 음악가들의 정서를 느낄 수 있는 비엔나!';

                        break;
                    default:
                        resultTitle = '알수없음';
                        resultMessge = '';
                }
                var title =
                    "<div class='" +
                    prediction[0].className +
                    "-country-title'>" +
                    resultTitle +
                    '</div>';
                var recommend = "<div class='country-messge pt-2'>" + resultMessge + '</div>';

                $('.result-message').html(title + recommend);
                var barWidth;
                for (let i = 0; i < maxPredictions; i++) {
                    if (prediction[i].probability.toFixed(2) > 0.1) {
                        barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + '%';
                    } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                        barWidth = '4%';
                    } else {
                        barWidth = '2%';
                    }
                    var labelTitle;
                    switch (prediction[i].className) {
                        case '오차드 로드':
                            labelTitle = '싱가포르';
                            break;

                        case '헝가리':
                            labelTitle = '헝가리';
                            break;

                        case '오페라 하우스':
                            labelTitle = '호주';
                            break;

                        case '카마리 비치':
                            labelTitle = '그리스';
                            break;

                        case '글립토테크 미술관':
                            labelTitle = '덴마크';
                            break;

                        case '메르데카 광장':
                            labelTitle = '말레이시아';
                            break;

                        case '네덜란드 홀랜드 카지노':
                            labelTitle = '네덜란드';
                            break;
                        case '마드리드 거리':
                            labelTitle = '스페인';
                            break;
                        case '뉴욕':
                            labelTitle = '미국';
                            break;
                        case '블루라곤 온천':
                            labelTitle = '아이슬란드';
                            break;
                        case '감라스탄':
                            labelTitle = '스웨덴';
                            break;
                        case '오스트리아':
                            labelTitle = '오스트리아';
                            break;
                        default:
                            labelTitle = '알수없음';
                    }
                    var label =
                        "<div class='animal-label d-flex align-items-center'>" +
                        labelTitle +
                        '</div>';
                    var bar =
                        "<div class='bar-container position-relative container'><div class='" +
                        prediction[i].className +
                        "-box'></div><div class='d-flex justify-content-center align-items-center " +
                        prediction[i].className +
                        "-bar' style='width: " +
                        barWidth +
                        "'><span class='d-block percent-text'>" +
                        Math.round(prediction[i].probability.toFixed(2) * 100) +
                        '%</span></div></div>';
                    labelContainer.childNodes[i].innerHTML = label + bar;
                }
            }
        </script>
    </body>
    <!-- Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->
</html>
